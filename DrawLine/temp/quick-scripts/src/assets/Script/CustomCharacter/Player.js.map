{"version":3,"sources":["assets\\Script\\CustomCharacter\\Player.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nimport Common, { inGameState, spriteState } from \"../Common\";\nimport GameConfig from \"../GameConfig\";\nimport GameManager from \"../GameManager\";\nimport Bullet from \"./Bullet\";\nimport Enermy from \"./Enermy\";\n\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Player extends cc.Component {\n\n    @property(cc.RigidBody)\n    rb: cc.RigidBody = null;\n    delayTime: number = 0;\n    isStartMoving: boolean = false;\n    initPos: cc.Vec3 = new cc.Vec3(0, 0);\n    @property\n    initVelocity: cc.Vec2 = new cc.Vec2(0, 0);\n    @property(cc.SpriteFrame)\n    charSprite:cc.SpriteFrame[] = [];\n    @property(cc.Node)\n    aniNode: cc.Node = null;\n    @property(cc.Node)\n    enermyNode: cc.Node = null;\n    @property(cc.Node)\n    enermyNode_2: cc.Node = null;\n    @property(cc.Prefab)\n    bullet: cc.Prefab = null;\n    @property(cc.Vec2)\n    posForBullet: cc.Vec2 = null;\n    @property(cc.Vec2)\n    posForBullet_2: cc.Vec2 = null;\n    @property(cc.Node)\n    enermySprite: cc.Node = null;\n    @property(cc.Node)\n    enermySprite2: cc.Node = null;\n    @property(cc.Node)\n    weaponSprite: cc.Node = null;\n    @property(cc.Vec2)\n    force: cc.Vec2 = null;\n    @property\n    forceBullet: number = 0;\n    @property(cc.Vec2)\n    positionAddForce: cc.Vec2 = null;\n    @property(cc.Node)\n    sfxEnemyNode: cc.Node = null;\n    @property(cc.Node)\n    sfxEnemyNode_2: cc.Node = null;\n    @property(cc.Node)\n    sfxPlayer: cc.Node = null;\n    @property(cc.Node)\n    elementPlayer:cc.Node = null;\n    @property\n    isFalling: boolean = false;\n    @property\n    isHasTeleport: boolean = false;\n    @property(cc.Vec2)\n    positionTele: cc.Vec2 = null;\n    startLevelAnim: cc.Node = null;\n\n    @property(cc.Prefab)\n    spawnMulti_Obj: cc.Prefab = null;\n\n    @property\n    isRemove: boolean = false;\n\n    public static _ins: Player;\n    public static get instance(): Player {\n        return this._ins || new Player;\n    }\n\n    onLoad () {\n        Common.instance.node.on(Common.instance.StartMovingEvent, this.startMoving, this);\n        Common.instance.node.on(Common.instance.PassLevelEvent,this.onPass,this);\n        Common.instance.node.on(Common.instance.FailLevelEvent,this.onFail,this);\n        //this.node.on('touchstart', this.onTouchStartAbove, this);\n        this.node.addComponent(cc.BlockInputEvents);\n        this.node.getComponent(cc.BlockInputEvents).enabled = true;\n        this.initPos = this.node.position;\n\n    }\n    onTouchStartAbove(event: any) {\n        let localPos = this.node.convertToNodeSpaceAR(event.getLocation());\n        console.log(\"Player has Event\");\n\n        if (this.node.getBoundingBox().contains(localPos)) {\n            // Xử lý sự kiện cho đối tượng ở trên\n            //event.stopPropagation();\n            console.log(\"background has Event\");\n        }\n        // else {\n        //     event.stopPropagation(); // Ngăn chặn sự kiện lan tỏa lên đối tượng dưới\n        // }\n    }\n    onDisable() {\n        Common.instance.node.off(Common.instance.StartMovingEvent, this.startMoving, this);\n        Common.instance.node.off(Common.instance.PassLevelEvent,this.onPass,this);\n        Common.instance.node.off(Common.instance.FailLevelEvent,this.onFail,this);\n    }\n    counter: number = 0;\n    startMoving()\n    {\n\n        if(this.sfxEnemyNode != undefined){\n            this.sfxEnemyNode.active = !this.sfxEnemyNode.active;\n        }\n        if(this.sfxEnemyNode_2 != undefined){\n            this.sfxEnemyNode_2.active = !this.sfxEnemyNode_2.active;\n        }\n        if(this.rb != null)\n        {\n            if (!this.isFalling){\n                this.rb.type = cc.RigidBodyType.Dynamic;\n                this.rb.linearVelocity = this.initVelocity;\n            }\n            \n            this.delayTime = GameManager.instance.lineMgr.timeChecking;\n            this.counter = 0;\n            this.isStartMoving = true;\n        }\n        if(this.enermyNode != undefined){\n            let rbEnermy = this.enermyNode.getComponent(cc.RigidBody);\n            let enermyCom = this.enermyNode.getComponent(Enermy);\n\n            if(rbEnermy != null ){\n                if (!enermyCom.getIsFalling){\n                    rbEnermy.type = cc.RigidBodyType.Dynamic;\n                    rbEnermy.linearVelocity = this.initVelocity;\n                }\n                \n            }\n            else if ( this.bullet != undefined ){\n                this.AdddForceForBullet();\n            }\n            this.AddForceForEnermy();\n            this.MovingEnermy();\n            this.onSpawnMulti();\n        }\n        if(this.enermyNode_2 != undefined){\n            let rbEnermy = this.enermyNode_2.getComponent(cc.RigidBody);\n            \n            let enermyCom = this.enermyNode_2.getComponent(Enermy);\n\n            if(rbEnermy != null ){\n                if (!enermyCom.getIsFalling){\n                    rbEnermy.type = cc.RigidBodyType.Dynamic;\n                    rbEnermy.linearVelocity = this.initVelocity;\n                }\n                \n            }\n            else if ( this.bullet != undefined ){\n                this.AdddForceForBullet2();\n            }\n            this.AddForceForEnermy2();\n            this.MovingEnermy2();\n            this.onSpawnMulti();\n        }\n        if ( this.weaponSprite != undefined){\n            if (this.charSprite[spriteState.Weapon] != undefined){\n                let sprite = this.weaponSprite.getComponent(cc.Sprite);\n                sprite.spriteFrame = this.charSprite[spriteState.Weapon];\n            }\n        }\n        if(this.startLevelAnim != null)\n        {\n            this.startLevelAnim.active = false;\n        }\n\n    }\n    MovingEnermy(): void{\n        \n        let x = this.node.position.x - this.enermyNode.position.x;\n        let enermyNodeCom = this.enermyNode.getComponent(Enermy);\n        if ( enermyNodeCom != null ){\n            console.log(\"value of hasMove: \" + enermyNodeCom.hasMove);\n            if ( enermyNodeCom.hasMove){\n               \n                console.log(\"value of x: \"+ x);\n                enermyNodeCom.setDir = new cc.Vec2(x,0);\n                enermyNodeCom.setIsMoving = true;\n            }\n        }\n    }\n    MovingEnermy2(): void{\n        \n        let x = this.node.position.x - this.enermyNode_2.position.x;\n        let enermyNodeCom = this.enermyNode_2.getComponent(Enermy);\n        if ( enermyNodeCom != null ){\n            console.log(\"value of hasMove2: \"+ enermyNodeCom.hasMove);\n            if ( enermyNodeCom.hasMove){\n                \n                console.log(\"value of x2: \"+ x);\n                enermyNodeCom.setDir = new cc.Vec2(x,0);\n                enermyNodeCom.setIsMoving = true;\n            }\n        }\n    }\n    AddForceForEnermy(): void{\n        \n        let enermyNodeCom = this.enermyNode.getComponent(Enermy);\n        if ( enermyNodeCom != null ){\n            console.log(\"go in enermyCom\");\n           if (enermyNodeCom.getIsAttack){\n                console.log(\"attack\");\n                let x = this.node.position.x - this.enermyNode.position.x;\n                let y = this.node.position.y - this.enermyNode.position.y;\n                let rbEnermyNode = this.enermyNode.getComponent(cc.RigidBody);\n                if (rbEnermyNode != null ){\n                    console.log(\"rb is not null\");\n                    if (this.positionAddForce != null){\n                        console.log(\"add Force in positionAddForce\");\n                        rbEnermyNode.applyForce(new cc.Vec2(x*this.force.x,y*this.force.y), this.positionAddForce,true);\n                    }\n                    rbEnermyNode.applyForceToCenter(new cc.Vec2(x*this.force.x,y*this.force.y),true);\n                }\n\n                    \n           }\n        }\n       \n    }\n    AddForceForEnermy2(): void{\n        \n        let enermyNodeCom = this.enermyNode_2.getComponent(Enermy);\n        if ( enermyNodeCom != null ){\n            console.log(\"go in enermyCom\");\n           if (enermyNodeCom.getIsAttack){\n                console.log(\"attack\");\n                let x = this.node.position.x - this.enermyNode_2.position.x;\n                let y = this.node.position.y - this.enermyNode_2.position.y;\n                let rbEnermyNode = this.enermyNode_2.getComponent(cc.RigidBody);\n                if (rbEnermyNode != null ){\n                    console.log(\"rb is not null\");\n                    rbEnermyNode.applyForceToCenter(new cc.Vec2(x*this.force.x,y*this.force.y),true);\n                }\n                    \n           }\n        }\n        \n    }\n    StopEnermyMoving(): void{\n        let enermyNodeCom = this.enermyNode.getComponent(Enermy);\n        if ( enermyNodeCom != null){\n            enermyNodeCom.setIsMoving = false;\n        }\n        \n    }\n    AdddForceForBullet(): void{\n        if( this.enermyNode !== undefined){\n            \n            if( this.charSprite[spriteState.EnermyFire] != undefined){\n                console.log(\"change fire sprite\");\n                this.enermyNode.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.EnermyFire];\n            }\n        }\n        let m_bullet = cc.instantiate(this.bullet);\n        this.node.addChild(m_bullet);\n        m_bullet.position = new cc.Vec3(this.enermyNode.position.x + this.posForBullet.x, this.enermyNode.position.y + this.posForBullet.y,0);\n        let m_bulletComp = m_bullet.getComponent(Bullet);\n        let x = this.node.position.x - m_bullet.position.x;\n        let y = this.node.position.y - m_bullet.position.y;\n        console.log(\"add Force\");\n        console.log(\"name of bullet node: \" + m_bullet.name);\n        m_bulletComp.AddForce(new cc.Vec2(x*this.forceBullet,y*this.forceBullet));\n    }\n    AdddForceForBullet2(): void{\n        if( this.enermyNode_2 !== undefined){\n            console.log(\"value of spriteEnermy: \" + spriteState.EnermyFire);\n            if( this.charSprite[spriteState.EnermyFire] != undefined){\n                console.log(\"change fire sprite\");\n                this.enermyNode_2.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.EnermyFire];\n            }\n        }\n        let m_bullet = cc.instantiate(this.bullet);\n        this.node.addChild(m_bullet);\n        m_bullet.position = new cc.Vec3(this.enermyNode_2.position.x + this.posForBullet_2.x, this.enermyNode_2.position.y + this.posForBullet_2.y,0);\n        let m_bulletComp = m_bullet.getComponent(Bullet);\n        let x = this.node.position.x - m_bullet.position.x;\n        let y = this.node.position.y - m_bullet.position.y;\n        console.log(\"add Force\");\n        console.log(\"name of bullet node: \" + m_bullet.name);\n        m_bulletComp.AddForce(new cc.Vec2(x*this.forceBullet,y*this.forceBullet));\n    }\n\n    onSpawnMulti()\n    {\n        if(this.enermyNode != undefined && this.spawnMulti_Obj!= undefined)\n        {\n            this.schedule(function ()\n            {\n                console.log(\"bug is here\");\n                let multiObj = cc.instantiate(this.spawnMulti_Obj);\n                this.enermyNode.addChild(multiObj);\n            },0.5, cc.macro.REPEAT_FOREVER);\n        }\n        if(this.enermyNode_2 != undefined && this.spawnMulti_Obj!= undefined)\n        {\n            this.schedule(function ()\n            {\n                let multiObj = cc.instantiate(this.spawnMulti_Obj);\n                this.enermyNode_2.addChild(multiObj);\n            },0.5, cc.macro.REPEAT_FOREVER)\n        }\n    }\n    update(dt: number){\n        if(this.isStartMoving == undefined) return;\n        this.counter += dt;\n        if(this.counter >= 1)\n        {\n            this.counter--;\n            this.counter --;\n            if(this.delayTime == 0)\n            {\n                this.isStartMoving = true;\n            }\n        }\n    }\n    Teleport():void{\n        if (this.isHasTeleport){\n            if ( this.positionTele != null){\n                this.node.position = new cc.Vec3(this.positionTele.x, this.positionTele.y,0);\n                this.node.getComponent(cc.RigidBody).applyForceToCenter(new cc.Vec2(50,0),true);\n            }\n        }\n    }\n    onCollisionEnter(other,self)\n    {\n        if (GameConfig.gameState != inGameState.CHECKING) return;\n\n        if(other.node.group == \"Target\")\n        {\n            console.log(\"in Target pass\");\n            this.Teleport();\n            GameConfig.gameState = inGameState.COMPLETED\n            //this.node.getComponent(cc.PolygonCollider).enabled = false;\n            Common.instance.node.emit(\"PassLevelEvent\");\n            return;\n        }\n        if(other.node.group == \"Enemy\")\n        {\n            console.log(\"in Enermy loss\");\n            GameConfig.gameState = inGameState.FAILED;\n           //this.MovingEnermy();\n            \n            // if (this.node.getChildByName(\"Bullet\") != null)\n            //     this.node.getChildByName(\"Bullet\").removeFromParent();\n            return;\n        }\n        if(other.node.name == \"Line\"){\n            console.log(\"collide with line\");\n        }\n        if(other.node.name == \"Line\" && !GameManager.instance.lineMgr.isCanTouchDrawLine)\n        {\n            GameConfig.gameState = inGameState.FAILED;\n            return;\n        }\n    }\n\n    onFail()\n    {\n        if(this.charSprite[spriteState.Lose] !== undefined)\n        {\n            this.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.Lose];\n        }\n        if(this.isRemove)\n        {\n            this.node.removeFromParent(true);\n        }\n        if( this.enermyNode !== undefined){\n            \n            if( this.charSprite[spriteState.EnermyWin] != undefined){\n                console.log(\"change fail sprite\");\n                if ( this.enermySprite != undefined){\n                    this.enermySprite.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.EnermyWin];\n\n                }else\n                    this.enermyNode.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.EnermyWin];\n            }\n        }\n        if( this.charSprite[spriteState.Enermy_2_Win] != undefined){\n            console.log(\"change fail sprite\");\n            if ( this.enermySprite2 != undefined){\n                this.enermySprite2.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.Enermy_2_Win];\n\n            }else\n                this.enermyNode_2.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.Enermy_2_Win];\n        }\n        if(this.elementPlayer != undefined){\n            this.elementPlayer.active = !this.elementPlayer.active;\n        }\n        if(this.sfxPlayer != undefined){\n            this.sfxPlayer.active = !this.sfxPlayer.active;\n        }\n    }\n\n    onPass()\n    {\n        if(this.charSprite[spriteState.Win] !== undefined)\n        {\n            this.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.Win];\n        }\n        if( this.enermyNode !== undefined){\n            if( this.charSprite[spriteState.EnermyLose] != undefined){\n                if ( this.enermySprite != undefined){\n                    this.enermySprite.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.EnermyLose];\n                    console.log(\"value of EnermyLose \" + spriteState.EnermyLose);\n                    console.log(\"change sprite in onPass\");\n                }else\n                    this.enermyNode.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.EnermyLose];\n            }\n        }\n        if( this.enermyNode_2 !== undefined){\n            if( this.charSprite[spriteState.Enermy_2_Lose] != undefined){\n                if ( this.enermySprite2 != undefined){\n                    this.enermySprite2.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.Enermy_2_Lose];\n\n                }else\n                    this.enermyNode_2.getComponent(cc.Sprite).spriteFrame = this.charSprite[spriteState.Enermy_2_Lose];\n            }\n        }\n        if(this.elementPlayer != undefined){\n            this.elementPlayer.active = !this.elementPlayer.active;\n        }\n        if(this.sfxPlayer != undefined){\n            this.sfxPlayer.active = !this.sfxPlayer.active;\n        }\n    }\n    resetGravity()\n    {\n        this.rb.linearVelocity = this.initVelocity;\n    }\n\n    updateNewGravity(newGravity: cc.Vec2)\n    {\n        if(this.rb != null)\n        {\n            this.rb.type = cc.RigidBodyType.Dynamic;\n            this.rb.linearVelocity = newGravity;\n        }\n    }\n\n    updateNewLinear(newVelo)\n    {\n        if(this.rb != undefined)\n        {\n            this.rb.type = cc.RigidBodyType.Dynamic;\n            this.rb.linearVelocity = new newVelo;\n            this.isStartMoving = true;\n        }\n    }\n}\n"]}