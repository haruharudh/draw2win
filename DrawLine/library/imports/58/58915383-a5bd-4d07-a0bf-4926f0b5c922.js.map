{"version":3,"sources":["assets\\Script\\DrawLine.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { inGameState } from \"./Common\";\nimport GameConfig from \"./GameConfig\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class DrawLine extends cc.Component {\n\n    // @property(cc.Node)\n    // canvas: cc.Node = null;\n    @property(cc.Node)\n    drawLine: cc.Node = null;\n    @property(cc.Graphics)\n    line: cc.Graphics = null;\n\n    disBtw2Points: number = 2;\n\n    listPoint: cc.Vec2[] = [];\n\n    lastPointPos: cc.Vec2 = cc.v2(0, 0);\n    @property\n    private isColliderWhilePlaying: boolean = false;\n    @property\n    positionCollide: cc.Vec3 = null;\n    @property\n    private nameCollider: string = \"\";\n   \n    UpdateGraphics() {\n            this.lastPointPos = cc.v2(this.listPoint[this.listPoint.length - 1].x, this.listPoint[this.listPoint.length - 1].y);\n        \n            this.line.moveTo(this.listPoint[0].x, this.listPoint[0].y);\n            this.line.lineTo(0.5 * (this.listPoint[0].x + this.listPoint[1].x), 0.5 * (this.listPoint[0].y + this.listPoint[1].y));\n        \n            for (let j = 1; j <= this.listPoint.length - 1; j++) {\n            this.line.lineTo(this.listPoint[j].x, this.listPoint[j].y);\n        }\n        this.line.lineTo(this.lastPointPos.x, this.lastPointPos.y);\n    }\n    \n    \n    splice()\n    {\n        this.listPoint = [];\n    }\n\n    updateDrawPoints(point: cc.Vec2) {\n        this.listPoint.push(point);\n    }\n    getListPoint()\n    {\n        return this.listPoint;\n    }\n    \n    update(dt)\n    {\n        this.line.lineWidth = 10;\n        this.line.clear();\n        this.line.lineJoin = cc.Graphics.LineJoin.ROUND;\n        this.line.lineCap = cc.Graphics.LineCap.BUTT;\n        \n        if(this.listPoint.length <= 1)\n        {\n            return;\n        }\n\n        this.UpdateGraphics()\n        this.line.stroke();\n    }\n    onCollisionEnter(other,self){\n        console.log(\"name of collision that collide with line: \" + other.node.name);\n        console.log(\"position collide another \" + other.node.position);\n        if (GameConfig.gameState == inGameState.PLAYING){\n            console.log(\"is Playing in DrawNode\");\n            this.nameCollider = other.node.name;\n            this.positionCollide = other.node.position;\n            this.isColliderWhilePlaying = true;\n        }\n    }\n    onCollisionExit(other, self){\n        console.log(\"onCollisionExit enable\");\n        this.isColliderWhilePlaying = false;\n    }\n    get getIsCollideWhilePlaying(){\n        return this.isColliderWhilePlaying;\n    }\n    set setIsCollierWhilePlaying(isCollide: boolean){\n        this.isColliderWhilePlaying = isCollide;\n    }\n    get getNameCollider(){\n        return this.nameCollider;\n    }\n    set setNameCollider(nameColl: string){\n        this.nameCollider = nameColl;\n    }\n}\n\n"]}