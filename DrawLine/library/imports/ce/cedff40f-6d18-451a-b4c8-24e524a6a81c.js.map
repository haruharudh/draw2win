{"version":3,"sources":["assets\\Script\\CustomCharacter\\Enermy.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Enermy extends cc.Component {\n\n\n    @property\n    private isMoving: boolean = false;\n    @property\n    public dir: cc.Vec2 = null ;\n    @property\n    isAttack: boolean = false ;\n    @property\n    isFalling: boolean = false ;\n    @property\n    hasMove: boolean = false;\n    @property\n    isMovingUp: boolean = false;\n    @property(cc.AnimationClip)\n    explodeAnim: cc.AnimationClip = null;\n    protected onLoad(): void {\n        this.node.addComponent(cc.BlockInputEvents);\n        this.node.getComponent(cc.BlockInputEvents).enabled = true;\n    }\n    protected update(dt: number): void {\n        if (this.isMoving){\n            console.log(\"moving in enermy script\");\n            this.node.position = new cc.Vec3(this.node.position.x + this.dir.x/100,this.node.position.y + this.dir.y/100,0);\n        }\n        if(this.isMovingUp){\n            this.node.position = new cc.Vec3(this.node.position.x,this.node.position.y +1,0);\n        }\n    }\n    set setDir(dir: cc.Vec2){\n        this.dir = dir;\n    }\n    set setIsMoving(isMoving: boolean){\n        this.isMoving = isMoving;\n    }\n    get getIsAttack(){\n        return this.isAttack;\n    }\n    set setIsAttack(isAtt: boolean){\n        this.isAttack = isAtt;\n    }\n    get getIsFalling(){\n        return this.isFalling;\n    }\n    set setIsFalling(isFall:boolean){\n        this.isFalling = isFall;\n    }\n    onCollisionEnter(other,self){\n        console.log(\"On Enermy collide\");\n        if(this.isMoving){\n            this.isMoving = false;\n            let rb = this.node.getComponent(cc.RigidBody);\n            rb.type = cc.RigidBodyType.Static;\n        }\n        if(this.isMovingUp){\n            this.isMovingUp = false;\n            let rb = this.node.getComponent(cc.RigidBody);\n            rb.type = cc.RigidBodyType.Dynamic;\n        }\n        if (this.explodeAnim != null){\n            let animCom = this.node.addComponent(cc.Animation);\n            animCom.addClip(this.explodeAnim);\n            animCom.play(this.explodeAnim.name);\n            this.node.scale = 2;\n            this.scheduleOnce(function()\n            {\n                this.node.removeFromParent();\n            },0.416);\n        }\n    }\n}\n\n"]}